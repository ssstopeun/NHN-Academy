# 4. 간단한 정수 계산기를 만들어 봅니다. (45점)

* 계산기를 만들려고 합니다. 계산 식은 여러 연산이 썩여서 입력될 수 있습니다. 
* 연산은 우리가 아는 일반적인 우선순위를 따릅니다.
* 괄호가 우선 처리되고, `+,-` 보다는 `*,/`가 우선 처리되어야 합니다.
* [Calculator](../src/main/java/com/nhnacademy/calculator/Calculator.java)를 구현합니다.

* [CalculatorTest 4-1 ~ 4-3](../src/test/java/com/nhnacademy/calculator/CalculatorTest.java)를 통과해야 합니다.

## 4-1. 문자열 수식을 받아 형태소 단위로 분리합니다. (15점)
* 하나의 문자열로 받은 수식은 내부적으로 처리하기 위해 의미를 갖는 형태로 단위로 구분되어야 합니다.

* `parsing(String expression)` method 구현합니다.

* 연산자는 다음과 같습니다. 
  * 1순위 : *, / 
  * 2순위: +, - 
  * 괄호를 지원합니다.: (, )
  * 피연산자는 정수로 제한합니다. 
  * 연산자와 피연산자 사이 공백은 무시합니다.
  
### 보기

~~~java
String expression = "3 * 2 + ( 4 / 5 * -2 )";
System.out.println(Calculator.parsing(expression));
~~~

### 결과

~~~
[3, *, 2, +, (, 4, /, 5, *, -2, )]
~~~

## 4-2. RPN 계산기 입력 가능 형태로 만들어 봅니다. (15점)
* `infixToPostfix(List<String> arr)` method를 구현합니다.

* RPN은 Reverse Polish Notation의 약자로서 연산자를 피연산자 뒤에 표기하는 방식입니다 다른 말로, 후위 표기법(Postfix Notation)이라고도 합니다.

* 일반적으로 알고 있는 연산 표기법은 아래와 같이 연산자를 가운데 쓰는 중위 표기법입니다. 
  * `1+2`

* 후위 표기법은 연산자를 피연산자 뒤에 쓰기에 아래와 같이 표기됩니다.
  * `12+`

* 후위 표기법은 수식을 계산할 때 특별한 변환이 필요 없이 수식을 앞에서부터 읽어 나가면서 스택에 저 장하면 됩니다

* 이러한 연산 방식은 중위 표기법을 기준으로 학습한 사람들에게는 어렵지만, 기계적 연산에서는 연산의 우선순위를 위해 괄호 등이 필요 없어 단순한 구조로 만들 수 있습니다.

* 먼저, 일반적으로 사용하는 중위 표기법을 후위 표기법으로 변환하는 기능을 구현합니다. 변환을 위한 알고리즘은 다음과 같습니다.

1. 피연산자를 출력합니다. 피연산자에는 음수도 포함됩니다.
2. 왼쪽 괄호가 나오면 스택에 저장합니다.
3. 오른쪽 괄호가 나오면 왼쪽 괄호가 나올 때까지 스택에 저장해 둔 연산자를 순서대로 출력하고, 왼쪽 괄호는 버립니다.
4. 4칙 연산자가 나오면 스택에 저장되어 있는 연산자를 확인하고, 저장되어 있던 연산자의 우선순위 가 낮거나 같을 때까지 출력합니다.
5. 현재의 연산자를 스택에 저장합니다.
6. 더 이상의 남은 형태소가 없으면, 스택에 저장된 연산자들을 순서대로 출력합니다.
7. 연산자 우선순위는 `/`, `*`, `-`, `+`입니다.

### 보기

~~~ java
String expression = "3 * 2 + ( 4 / 5 * -2)";
List<String> infix = Calculator.infixToPostfix(Calculator.parsing(expression));
System.out.println(infix);
~~~

### 결과

~~~
[3, 2, *, 4, 5, /, -2, *, +]
~~~

## 4-3. RPN 계산기를 만들어 봅니다. (15점)

* run() method를 구현합니다.
* 계산을 위한 [MyInteger](../src/main/java/com/nhnacademy/number/impl/MyInteger.java) 클래스를 사용합니다.

* RPN 계산기의 동작은 아래와 같이 단순합니다.
  1. 피연산자는 스택에 넣는다. 
     2. 피연산자는 MyInteger로 변환하여 저장합니다.
  2. 연산자는 스택에서 피연산자 2개를 꺼내어 계산하고, 결과를 다시 스택에 넣습니다. 
  3. 더 이상 처리한 형태소가 없으면, 계산은 종료되고 스택에 남은 하나의 피연산자는 연산 결과가 됩니다. 
  4. MyInteger 형의 결과를 반환합니다.

### 보기

~~~java
String expression = "3 * 2 + ( 4 / 5 * -2)";
System.out.println(expression + " = " + Calculator.run(expression));
~~~

### 결과

~~~java
3 * 2 + ( 4 / 5 * -2) = 6
~~~
